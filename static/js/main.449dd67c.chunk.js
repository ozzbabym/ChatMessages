(this.webpackJsonpmessage=this.webpackJsonpmessage||[]).push([[0],{111:function(e,t,s){e.exports={chat:"Users_chat__1X262"}},112:function(e,t,s){e.exports={chat:"windowChat_chat__22Syl"}},119:function(e,t,s){},16:function(e,t,s){e.exports={header:"Header_header__1VCKf",form:"Header_form__1yuui",button:"Header_button__3kSo_",link:"Header_link__2wI74"}},243:function(e,t,s){"use strict";s.r(t);var n=s(2),a=s(0),c=s.n(a),r=s(51),i=s.n(r),o=(s(119),s(22)),u=s(23),j=s(26),d=s(25),h=s(15),l=s(28),b=s.n(l),p=s(31),m=s(10),g="ADD_FROM_SERVER",O="ADD_MESSAGE",f="SET_MESSAGE",x={message:[]},v=s(245),_=s(244),y=Object(_.a)({form:"message"})((function(e){return Object(n.jsx)("form",{onSubmit:e.handleSubmit,children:Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:Object(n.jsx)(v.a,{placeholder:"Enter your message",className:b.a.input,name:"messageText",component:"input"})}),Object(n.jsx)("span",{children:Object(n.jsx)("button",{className:b.a.button,children:"SEND"})})]})})})),S=s(111),k=s.n(S),N=function(e){Object(j.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){var e=this.props.users.users.map((function(e){return Object(n.jsx)("div",{children:e.login},e._id)}));return Object(n.jsxs)("div",{children:["Users:",Object(n.jsx)("div",{className:k.a.chat,children:e})]})}}]),s}(c.a.Component),w=Object(h.b)((function(e){return{users:e.reducerHeader}}),{})(N),M=s(112),E=s.n(M),T=s(75),C=s.n(T),U=function(e){Object(j.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"render",value:function(){return C()(document).ready((function(){C()("div").scrollTop(1e20)})),Object(n.jsx)("div",{id:"chat",children:Object(n.jsx)("div",{className:E.a.chat,children:this.props.messageName.map((function(e){return Object(n.jsxs)("div",{children:[Object(n.jsx)("span",{children:e.name+": "}),Object(n.jsx)("span",{children:e.message})]},e.id)}))})})}}]),s}(c.a.Component),D=s(35),R=s.n(D),A=function(e){Object(j.a)(s,e);var t=Object(d.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(u.a)(s,[{key:"componentDidMount",value:function(){var e=this;R.a.get("https://chatmessages.herokuapp.com/api/messages").then((function(t){for(var s=t.data,n=0;n<s.length;n++)e.props.setMessages(s[n])}))}},{key:"message",value:function(e){var t={name:this.props.user,message:e.messageText};R.a.post("https://chatmessages.herokuapp.com/api/messages",t),this.props.addMessage(e.messageText,this.props.user),e.messageText=""}},{key:"componentDidUpdate",value:function(){}},{key:"render",value:function(){return Object(n.jsxs)("div",{className:b.a.body,children:[Object(n.jsx)("div",{className:b.a.chat,children:Object(n.jsx)(U,{messageName:this.props.message})}),Object(n.jsx)("div",{className:b.a.people,children:Object(n.jsx)(w,{})}),Object(n.jsx)("div",{className:b.a.mess,children:Object(n.jsx)(y,{onSubmit:this.message.bind(this)})})]})}}]),s}(c.a.Component),B=Object(h.b)((function(e){return{message:e.MessageReducer.message,user:e.reducerStateName.name}}),{addMessage:function(e,t){return{type:O,newText:e,name:t}},setMessages:function(e){return{type:f,newMessage:e}}})(A),H=s(16),F=s.n(H),V=Object(_.a)({form:"header"})((function(e){return Object(n.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:F.a.form,children:Object(n.jsx)(v.a,{placeholder:"login",name:"login",component:"input"})}),Object(n.jsx)("div",{className:F.a.form,children:Object(n.jsx)(v.a,{placeholder:"password",name:"pass",component:"input",type:"password"})})]}),Object(n.jsx)("span",{children:Object(n.jsx)("button",{className:F.a.button,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})})]})})),I="ADD_USERS",P="SET_USERS",G={users:[]},J=function(e){return{type:P,usersServ:e}},L=s(42),Q=s(7),q=Object(_.a)({form:"header"})((function(e){return Object(n.jsxs)("form",{onSubmit:e.handleSubmit,children:[Object(n.jsxs)("div",{children:[Object(n.jsx)("div",{className:F.a.form,children:Object(n.jsx)(v.a,{placeholder:"login",name:"login",component:"input"})}),Object(n.jsx)("div",{className:F.a.form,children:Object(n.jsx)(v.a,{placeholder:"password",name:"pass",component:"input",type:"password"})})]}),Object(n.jsx)("span",{children:Object(n.jsx)("button",{className:F.a.button,children:"\u0412\u0445\u043e\u0434"})})]})})),z="NAME",K={name:"Unknow"},W=function(e){Object(j.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(o.a)(this,s);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).state={login:""},e.Exit=function(){e.setState({login:""})},e}return Object(u.a)(s,[{key:"componentDidMount",value:function(){this.props.getUsersThunk()}},{key:"submitRegistr",value:function(e){this.props.setUsersThunk(e),this.props.addUsers(e.login,e.pass),e.login="",e.pass=""}},{key:"submitSigin",value:function(e){for(var t=this.props.users.map((function(e){return e.login})),s=this.props.users.map((function(e){return e.pass})),n=0;n<t.length;n++)e.login===t[n]&&e.pass===s[n]&&(this.setState({login:e.login}),this.props.Name(e.login))}},{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{className:F.a.header,children:[Object(n.jsxs)("h1",{children:["Welcom to chat ",this.state.login]}),!this.state.login&&Object(n.jsxs)("div",{children:[Object(n.jsx)(L.b,{to:"/ChatMessages/reg",className:F.a.link,children:"Register"}),Object(n.jsx)("span",{children:" "}),Object(n.jsx)(L.b,{to:"/ChatMessages/sigin",className:F.a.link,children:"Sigin"}),Object(n.jsx)(Q.a,{exact:!0,path:"/ChatMessages/reg",render:function(){return Object(n.jsx)(V,{onSubmit:e.submitRegistr.bind(e)})}}),Object(n.jsx)(Q.a,{exact:!0,path:"/ChatMessages/sigin",render:function(){return Object(n.jsx)(q,{onSubmit:e.submitSigin.bind(e)})}})]}),this.state.login&&Object(n.jsx)("div",{children:Object(n.jsx)("button",{onClick:this.Exit,children:"Exit"})})]})}}]),s}(c.a.Component),X=Object(h.b)((function(e){return{users:e.reducerHeader.users}}),{addUsers:function(e,t){return{type:I,login:e,pass:t}},Name:function(e){return{type:z,name:e}},setUsers:J,getUsersThunk:function(){return function(e){R.a.get("https://chatmessages.herokuapp.com/api/users").then((function(t){for(var s=t.data,n=0;n<s.length;n++)e(J(s[n]))}))}},setUsersThunk:function(e){return function(t){var s={login:e.login,pass:e.pass,isAuth:!1};R.a.post("https://chatmessages.herokuapp.com/api/users",s)}}})(W);var Y=function(){return Object(n.jsxs)("div",{children:[Object(n.jsx)(X,{}),Object(n.jsx)(B,{})]})},Z=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,247)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;s(e),n(e),a(e),c(e),r(e)}))},$=s(8),ee=s(246),te=s(113),se=Object($.c)({MessageReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var s={id:3,name:t.name,message:t.newText};return Object(m.a)(Object(m.a)({},e),{},{message:[].concat(Object(p.a)(e.message),[s])});case f:return Object(m.a)(Object(m.a)({},e),{},{message:[].concat(Object(p.a)(e.message),[t.newMessage])});case g:return Object(m.a)(Object(m.a)({},e),{},{message:Object(p.a)(e.message)});default:return e}},reducerHeader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:for(var s=e.users.map((function(e){return e.login})),n=0;n<s.length;n++)if(t.login===s[n])return e;if(t.pass.length<6)return e;var a={_id:3,login:t.login,pass:t.pass,isAuth:!1};return Object(m.a)(Object(m.a)({},e),{},{users:[].concat(Object(p.a)(e.users),[a])});case P:return Object(m.a)(Object(m.a)({},e),{},{users:[].concat(Object(p.a)(e.users),[t.usersServ])});default:return e}},reducerStateName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(m.a)(Object(m.a)({},e),{},{name:t.name});default:return e}},form:ee.a}),ne=Object($.d)(se,Object($.a)(te.a));i.a.render(Object(n.jsx)(L.a,{children:Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(h.a,{store:ne,children:Object(n.jsx)(Y,{})})})}),document.getElementById("root")),Z()},28:function(e,t,s){e.exports={body:"Body_body__7Uf9z",chat:"Body_chat__10QVh",people:"Body_people__3g_1N",mess:"Body_mess__3ebwQ",input:"Body_input__28ubP",button:"Body_button__fsVq7"}}},[[243,1,2]]]);
//# sourceMappingURL=main.449dd67c.chunk.js.map
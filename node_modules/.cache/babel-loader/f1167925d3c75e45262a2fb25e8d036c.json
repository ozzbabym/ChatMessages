{"ast":null,"code":"import _toConsumableArray from\"/Users/ivannazarov/Documents/reactApp/ServerAndMessage/message/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"/Users/ivannazarov/Documents/reactApp/ServerAndMessage/message/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import axios from\"axios\";var ADD_USERS='ADD_USERS';var SET_USERS='SET_USERS';var initialState={users:[// {id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},\n]};export var reducerHeader=function reducerHeader(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_USERS:{var login=state.users.map(function(login){return login.login;});for(var i=0;i<login.length;i++){if(action.login===login[i]){return state;}}if(action.pass.length<6){return state;}var newUsers={_id:3,login:action.login,pass:action.pass,isAuth:false};return _objectSpread(_objectSpread({},state),{},{users:[].concat(_toConsumableArray(state.users),[newUsers])});}case SET_USERS:{return _objectSpread(_objectSpread({},state),{},{users:[].concat(_toConsumableArray(state.users),[action.usersServ])});}default:return state;}};export var addUsers=function addUsers(login,pass){return{type:ADD_USERS,login:login,pass:pass};};export var setUsers=function setUsers(usersServ){return{type:SET_USERS,usersServ:usersServ};};export var getUsersThunk=function getUsersThunk(){return function(dispatch){axios.get('https://chatmessages.herokuapp.com/api/users').then(function(user){var users=user.data;for(var i=0;i<users.length;i++){dispatch(setUsers(users[i]));}});};};export var setUsersThunk=function setUsersThunk(text){return function(dispatch){var users={login:text.login,pass:text.pass,isAuth:false};axios.post('https://chatmessages.herokuapp.com/api/users',users);};};","map":{"version":3,"sources":["/Users/ivannazarov/Documents/reactApp/ServerAndMessage/message/src/components/Header/reducerHeader.js"],"names":["axios","ADD_USERS","SET_USERS","initialState","users","reducerHeader","state","action","type","login","map","i","length","pass","newUsers","_id","isAuth","usersServ","addUsers","setUsers","getUsersThunk","dispatch","get","then","user","data","setUsersThunk","text","post"],"mappings":"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","sourcesContent":["import axios from \"axios\"\n\nlet ADD_USERS = 'ADD_USERS'\nlet SET_USERS = 'SET_USERS'\n\nconst initialState = {\n    users:[\n    // {id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},\n    \n    ]\n}\n\n\nexport const reducerHeader = (state = initialState, action) => {\n    \n    switch (action.type){\n        case ADD_USERS: {\n\n            let login = state.users.map(login=>login.login)\n            \n            for (let i=0; i<login.length; i++){\n                \n                if(action.login===login[i]){\n                    \n                    return state\n                }\n            }\n\n            if (action.pass.length<6) {\n                return state\n            }\n            \n\n            let newUsers={\n                _id: 3,\n                login: action.login,\n                pass: action.pass,\n                isAuth: false\n                \n            }\n\n            return {...state, users: [...state.users, newUsers]}\n        }\n\n        case SET_USERS:{\n            return {...state, users: [...state.users, action.usersServ]}\n        }\n\n        default:\n            return state\n    }\n}\n\nexport const addUsers = (login , pass) =>({type: ADD_USERS, login, pass })\nexport const setUsers = (usersServ)=> ({type: SET_USERS , usersServ})\n\nexport const getUsersThunk=()=>{\n    return (dispatch)=>{\n        axios.get('https://chatmessages.herokuapp.com/api/users').then(user=>{\n            let users = user.data\n            for(let i=0; i<users.length;i++){\n                \n                dispatch(setUsers(users[i]))\n            }\n            \n        })\n    }\n}\n\nexport const setUsersThunk =(text)=>{\n    return(dispatch)=>{\n        let users = {login: text.login, pass: text.pass, isAuth: false}\n        axios.post('https://chatmessages.herokuapp.com/api/users', users)\n    }\n}\n"]},"metadata":{},"sourceType":"module"}
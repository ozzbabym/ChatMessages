{"ast":null,"code":"import axios from \"axios\";\nlet ADD_USERS = 'ADD_USERS';\nlet SET_USERS = 'SET_USERS';\nconst initialState = {\n  users: [// {id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},\n  ]\n};\nexport const reducerHeader = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_USERS:\n      {\n        let login = state.users.map(login => login.login);\n\n        for (let i = 0; i < login.length; i++) {\n          if (action.login === login[i]) {\n            return state;\n          }\n        }\n\n        if (action.pass.length < 6) {\n          return state;\n        }\n\n        let newUsers = {\n          _id: 3,\n          login: action.login,\n          pass: action.pass,\n          isAuth: false\n        };\n        return { ...state,\n          users: [...state.users, newUsers]\n        };\n      }\n\n    case SET_USERS:\n      {\n        return { ...state,\n          users: [...state.users, action.usersServ]\n        };\n      }\n\n    default:\n      return state;\n  }\n};\nexport const addUsers = (login, pass) => ({\n  type: ADD_USERS,\n  login,\n  pass\n});\nexport const setUsers = usersServ => ({\n  type: SET_USERS,\n  usersServ\n});\nexport const getUsersThunk = () => {\n  return dispatch => {\n    axios.get('https://chatmessages.herokuapp.com//api/users').then(user => {\n      let users = user.data;\n      console.log;\n\n      for (let i = 0; i < users.length; i++) {\n        console.log(users[i]);\n        dispatch(setUsers(users[i]));\n      }\n    });\n  };\n};\nexport const setUsersThunk = text => {\n  return dispatch => {\n    let users = {\n      login: text.login,\n      pass: text.pass,\n      isAuth: false\n    };\n    axios.post('https://chatmessages.herokuapp.com/api/users', users);\n  };\n};","map":{"version":3,"sources":["/Users/ivannazarov/Documents/reactApp/ServerAndMessage/message/src/components/Header/reducerHeader.js"],"names":["axios","ADD_USERS","SET_USERS","initialState","users","reducerHeader","state","action","type","login","map","i","length","pass","newUsers","_id","isAuth","usersServ","addUsers","setUsers","getUsersThunk","dispatch","get","then","user","data","console","log","setUsersThunk","text","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAIC,SAAS,GAAG,WAAhB;AACA,IAAIC,SAAS,GAAG,WAAhB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAC,CACN;AADM;AADW,CAArB;AAQA,OAAO,MAAMC,aAAa,GAAG,CAACC,KAAK,GAAGH,YAAT,EAAuBI,MAAvB,KAAkC;AAE3D,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKP,SAAL;AAAgB;AAEZ,YAAIQ,KAAK,GAAGH,KAAK,CAACF,KAAN,CAAYM,GAAZ,CAAgBD,KAAK,IAAEA,KAAK,CAACA,KAA7B,CAAZ;;AAEA,aAAK,IAAIE,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACF,KAAK,CAACG,MAAtB,EAA8BD,CAAC,EAA/B,EAAkC;AAE9B,cAAGJ,MAAM,CAACE,KAAP,KAAeA,KAAK,CAACE,CAAD,CAAvB,EAA2B;AAEvB,mBAAOL,KAAP;AACH;AACJ;;AAED,YAAIC,MAAM,CAACM,IAAP,CAAYD,MAAZ,GAAmB,CAAvB,EAA0B;AACtB,iBAAON,KAAP;AACH;;AAGD,YAAIQ,QAAQ,GAAC;AACTC,UAAAA,GAAG,EAAE,CADI;AAETN,UAAAA,KAAK,EAAEF,MAAM,CAACE,KAFL;AAGTI,UAAAA,IAAI,EAAEN,MAAM,CAACM,IAHJ;AAITG,UAAAA,MAAM,EAAE;AAJC,SAAb;AAQA,eAAO,EAAC,GAAGV,KAAJ;AAAWF,UAAAA,KAAK,EAAE,CAAC,GAAGE,KAAK,CAACF,KAAV,EAAiBU,QAAjB;AAAlB,SAAP;AACH;;AAED,SAAKZ,SAAL;AAAe;AACX,eAAO,EAAC,GAAGI,KAAJ;AAAWF,UAAAA,KAAK,EAAE,CAAC,GAAGE,KAAK,CAACF,KAAV,EAAiBG,MAAM,CAACU,SAAxB;AAAlB,SAAP;AACH;;AAED;AACI,aAAOX,KAAP;AAlCR;AAoCH,CAtCM;AAwCP,OAAO,MAAMY,QAAQ,GAAG,CAACT,KAAD,EAASI,IAAT,MAAkB;AAACL,EAAAA,IAAI,EAAEP,SAAP;AAAkBQ,EAAAA,KAAlB;AAAyBI,EAAAA;AAAzB,CAAlB,CAAjB;AACP,OAAO,MAAMM,QAAQ,GAAIF,SAAD,KAAe;AAACT,EAAAA,IAAI,EAAEN,SAAP;AAAmBe,EAAAA;AAAnB,CAAf,CAAjB;AAEP,OAAO,MAAMG,aAAa,GAAC,MAAI;AAC3B,SAAQC,QAAD,IAAY;AACfrB,IAAAA,KAAK,CAACsB,GAAN,CAAU,+CAAV,EAA2DC,IAA3D,CAAgEC,IAAI,IAAE;AAClE,UAAIpB,KAAK,GAAGoB,IAAI,CAACC,IAAjB;AACAC,MAAAA,OAAO,CAACC,GAAR;;AACA,WAAI,IAAIhB,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACP,KAAK,CAACQ,MAArB,EAA4BD,CAAC,EAA7B,EAAgC;AAC5Be,QAAAA,OAAO,CAACC,GAAR,CAAYvB,KAAK,CAACO,CAAD,CAAjB;AACAU,QAAAA,QAAQ,CAACF,QAAQ,CAACf,KAAK,CAACO,CAAD,CAAN,CAAT,CAAR;AACH;AAEJ,KARD;AASH,GAVD;AAWH,CAZM;AAcP,OAAO,MAAMiB,aAAa,GAAGC,IAAD,IAAQ;AAChC,SAAOR,QAAD,IAAY;AACd,QAAIjB,KAAK,GAAG;AAACK,MAAAA,KAAK,EAAEoB,IAAI,CAACpB,KAAb;AAAoBI,MAAAA,IAAI,EAAEgB,IAAI,CAAChB,IAA/B;AAAqCG,MAAAA,MAAM,EAAE;AAA7C,KAAZ;AACAhB,IAAAA,KAAK,CAAC8B,IAAN,CAAW,8CAAX,EAA2D1B,KAA3D;AACH,GAHD;AAIH,CALM","sourcesContent":["import axios from \"axios\"\n\nlet ADD_USERS = 'ADD_USERS'\nlet SET_USERS = 'SET_USERS'\n\nconst initialState = {\n    users:[\n    // {id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},\n    \n    ]\n}\n\n\nexport const reducerHeader = (state = initialState, action) => {\n    \n    switch (action.type){\n        case ADD_USERS: {\n\n            let login = state.users.map(login=>login.login)\n            \n            for (let i=0; i<login.length; i++){\n                \n                if(action.login===login[i]){\n                    \n                    return state\n                }\n            }\n\n            if (action.pass.length<6) {\n                return state\n            }\n            \n\n            let newUsers={\n                _id: 3,\n                login: action.login,\n                pass: action.pass,\n                isAuth: false\n                \n            }\n\n            return {...state, users: [...state.users, newUsers]}\n        }\n\n        case SET_USERS:{\n            return {...state, users: [...state.users, action.usersServ]}\n        }\n\n        default:\n            return state\n    }\n}\n\nexport const addUsers = (login , pass) =>({type: ADD_USERS, login, pass })\nexport const setUsers = (usersServ)=> ({type: SET_USERS , usersServ})\n\nexport const getUsersThunk=()=>{\n    return (dispatch)=>{\n        axios.get('https://chatmessages.herokuapp.com//api/users').then(user=>{\n            let users = user.data\n            console.log\n            for(let i=0; i<users.length;i++){\n                console.log(users[i])\n                dispatch(setUsers(users[i]))\n            }\n            \n        })\n    }\n}\n\nexport const setUsersThunk =(text)=>{\n    return(dispatch)=>{\n        let users = {login: text.login, pass: text.pass, isAuth: false}\n        axios.post('https://chatmessages.herokuapp.com/api/users', users)\n    }\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import axios from \"axios\";\nlet ADD_USERS = 'ADD_USERS';\nlet SET_USERS = 'SET_USERS';\nconst initialState = {\n  users: [{\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }, {\n    id: 1,\n    login: 'gerg',\n    pass: '123'\n  }]\n};\nexport const reducerHeader = (state = initialState, action) => {\n  switch (action.type) {\n    case ADD_USERS:\n      {\n        let login = state.users.map(login => login.login);\n\n        for (let i = 0; i < login.length; i++) {\n          if (action.login === login[i]) {\n            return state;\n          }\n        }\n\n        if (action.pass.length < 6) {\n          return state;\n        }\n\n        let newUsers = {\n          _id: 3,\n          login: action.login,\n          pass: action.pass,\n          isAuth: false\n        };\n        return { ...state,\n          users: [...state.users, newUsers]\n        };\n      }\n\n    case SET_USERS:\n      {\n        return { ...state,\n          users: [...state.users, action.usersServ]\n        };\n      }\n\n    default:\n      return state;\n  }\n};\nexport const addUsers = (login, pass) => ({\n  type: ADD_USERS,\n  login,\n  pass\n});\nexport const setUsers = usersServ => ({\n  type: SET_USERS,\n  usersServ\n});\nexport const getUsersThunk = () => {\n  return dispatch => {\n    axios.get('http://localhost:4000/api/users').then(user => {\n      let users = user.data;\n\n      for (let i = 0; i < users.length; i++) {\n        dispatch(setUsers(users[i]));\n      }\n    });\n  };\n};\nexport const setUsersThunk = text => {\n  return dispatch => {\n    let users = {\n      login: text.login,\n      pass: text.pass,\n      isAuth: false\n    };\n    axios.post('http://localhost:4000/api/users', users);\n  };\n};","map":{"version":3,"sources":["/Users/ivannazarov/Documents/reactApp/ServerAndMessage/message/src/components/Header/reducerHeader.js"],"names":["axios","ADD_USERS","SET_USERS","initialState","users","id","login","pass","reducerHeader","state","action","type","map","i","length","newUsers","_id","isAuth","usersServ","addUsers","setUsers","getUsersThunk","dispatch","get","then","user","data","setUsersThunk","text","post"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,IAAIC,SAAS,GAAG,WAAhB;AACA,IAAIC,SAAS,GAAG,WAAhB;AAEA,MAAMC,YAAY,GAAG;AACjBC,EAAAA,KAAK,EAAC,CACN;AAACC,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GADM,EAC8B;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GAD9B,EACkE;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GADlE,EACsG;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GADtG,EAC0I;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GAD1I,EAC8K;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GAD9K,EACkN;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GADlN,EACsP;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GADtP,EAC0R;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GAD1R,EAC8T;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GAD9T,EACkW;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GADlW,EACsY;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GADtY,EAC0a;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GAD1a,EAC8c;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GAD9c,EACkf;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GADlf,EACshB;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GADthB,EAC0jB;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GAD1jB,EAC8lB;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GAD9lB,EACkoB;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GADloB,EACsqB;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GADtqB,EAC0sB;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GAD1sB,EAC8uB;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GAD9uB,EACkxB;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GADlxB,EACszB;AAACF,IAAAA,EAAE,EAAE,CAAL;AAAQC,IAAAA,KAAK,EAAE,MAAf;AAAuBC,IAAAA,IAAI,EAAE;AAA7B,GADtzB;AADW,CAArB;AAQA,OAAO,MAAMC,aAAa,GAAG,CAACC,KAAK,GAAGN,YAAT,EAAuBO,MAAvB,KAAkC;AAE3D,UAAQA,MAAM,CAACC,IAAf;AACI,SAAKV,SAAL;AAAgB;AAEZ,YAAIK,KAAK,GAAGG,KAAK,CAACL,KAAN,CAAYQ,GAAZ,CAAgBN,KAAK,IAAEA,KAAK,CAACA,KAA7B,CAAZ;;AAEA,aAAK,IAAIO,CAAC,GAAC,CAAX,EAAcA,CAAC,GAACP,KAAK,CAACQ,MAAtB,EAA8BD,CAAC,EAA/B,EAAkC;AAE9B,cAAGH,MAAM,CAACJ,KAAP,KAAeA,KAAK,CAACO,CAAD,CAAvB,EAA2B;AAEvB,mBAAOJ,KAAP;AACH;AACJ;;AAED,YAAIC,MAAM,CAACH,IAAP,CAAYO,MAAZ,GAAmB,CAAvB,EAA0B;AACtB,iBAAOL,KAAP;AACH;;AAGD,YAAIM,QAAQ,GAAC;AACTC,UAAAA,GAAG,EAAE,CADI;AAETV,UAAAA,KAAK,EAAEI,MAAM,CAACJ,KAFL;AAGTC,UAAAA,IAAI,EAAEG,MAAM,CAACH,IAHJ;AAITU,UAAAA,MAAM,EAAE;AAJC,SAAb;AAQA,eAAO,EAAC,GAAGR,KAAJ;AAAWL,UAAAA,KAAK,EAAE,CAAC,GAAGK,KAAK,CAACL,KAAV,EAAiBW,QAAjB;AAAlB,SAAP;AACH;;AAED,SAAKb,SAAL;AAAe;AACX,eAAO,EAAC,GAAGO,KAAJ;AAAWL,UAAAA,KAAK,EAAE,CAAC,GAAGK,KAAK,CAACL,KAAV,EAAiBM,MAAM,CAACQ,SAAxB;AAAlB,SAAP;AACH;;AAED;AACI,aAAOT,KAAP;AAlCR;AAoCH,CAtCM;AAwCP,OAAO,MAAMU,QAAQ,GAAG,CAACb,KAAD,EAASC,IAAT,MAAkB;AAACI,EAAAA,IAAI,EAAEV,SAAP;AAAkBK,EAAAA,KAAlB;AAAyBC,EAAAA;AAAzB,CAAlB,CAAjB;AACP,OAAO,MAAMa,QAAQ,GAAIF,SAAD,KAAe;AAACP,EAAAA,IAAI,EAAET,SAAP;AAAmBgB,EAAAA;AAAnB,CAAf,CAAjB;AAEP,OAAO,MAAMG,aAAa,GAAC,MAAI;AAC3B,SAAQC,QAAD,IAAY;AACftB,IAAAA,KAAK,CAACuB,GAAN,CAAU,iCAAV,EAA6CC,IAA7C,CAAkDC,IAAI,IAAE;AACpD,UAAIrB,KAAK,GAAGqB,IAAI,CAACC,IAAjB;;AACA,WAAI,IAAIb,CAAC,GAAC,CAAV,EAAaA,CAAC,GAACT,KAAK,CAACU,MAArB,EAA4BD,CAAC,EAA7B,EAAgC;AAE5BS,QAAAA,QAAQ,CAACF,QAAQ,CAAChB,KAAK,CAACS,CAAD,CAAN,CAAT,CAAR;AACH;AAEJ,KAPD;AAQH,GATD;AAUH,CAXM;AAaP,OAAO,MAAMc,aAAa,GAAGC,IAAD,IAAQ;AAChC,SAAON,QAAD,IAAY;AACd,QAAIlB,KAAK,GAAG;AAACE,MAAAA,KAAK,EAAEsB,IAAI,CAACtB,KAAb;AAAoBC,MAAAA,IAAI,EAAEqB,IAAI,CAACrB,IAA/B;AAAqCU,MAAAA,MAAM,EAAE;AAA7C,KAAZ;AACAjB,IAAAA,KAAK,CAAC6B,IAAN,CAAW,iCAAX,EAA8CzB,KAA9C;AACH,GAHD;AAIH,CALM","sourcesContent":["import axios from \"axios\"\n\nlet ADD_USERS = 'ADD_USERS'\nlet SET_USERS = 'SET_USERS'\n\nconst initialState = {\n    users:[\n    {id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},{id: 1, login: 'gerg', pass: '123'},\n    \n    ]\n}\n\n\nexport const reducerHeader = (state = initialState, action) => {\n    \n    switch (action.type){\n        case ADD_USERS: {\n\n            let login = state.users.map(login=>login.login)\n            \n            for (let i=0; i<login.length; i++){\n                \n                if(action.login===login[i]){\n                    \n                    return state\n                }\n            }\n\n            if (action.pass.length<6) {\n                return state\n            }\n            \n\n            let newUsers={\n                _id: 3,\n                login: action.login,\n                pass: action.pass,\n                isAuth: false\n                \n            }\n\n            return {...state, users: [...state.users, newUsers]}\n        }\n\n        case SET_USERS:{\n            return {...state, users: [...state.users, action.usersServ]}\n        }\n\n        default:\n            return state\n    }\n}\n\nexport const addUsers = (login , pass) =>({type: ADD_USERS, login, pass })\nexport const setUsers = (usersServ)=> ({type: SET_USERS , usersServ})\n\nexport const getUsersThunk=()=>{\n    return (dispatch)=>{\n        axios.get('http://localhost:4000/api/users').then(user=>{\n            let users = user.data\n            for(let i=0; i<users.length;i++){\n                \n                dispatch(setUsers(users[i]))\n            }\n            \n        })\n    }\n}\n\nexport const setUsersThunk =(text)=>{\n    return(dispatch)=>{\n        let users = {login: text.login, pass: text.pass, isAuth: false}\n        axios.post('http://localhost:4000/api/users', users)\n    }\n}\n"]},"metadata":{},"sourceType":"module"}
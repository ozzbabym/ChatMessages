{"ast":null,"code":"import _classCallCheck from\"/Users/ivannazarov/Documents/reactApp/ServerAndMessage/message/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/ivannazarov/Documents/reactApp/ServerAndMessage/message/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/ivannazarov/Documents/reactApp/ServerAndMessage/message/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/ivannazarov/Documents/reactApp/ServerAndMessage/message/node_modules/@babel/runtime/helpers/esm/createSuper\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import React from'react';import{connect}from'react-redux';import s from'./Header.module.css';import HeaderFormRedux from'./HeaderForm';import{addUsers,setUsers,getUsersThunk,setUsersThunk}from'./reducerHeader';import{NavLink,Route}from'react-router-dom';import HeaderFormReduxSigin from'./HeaderFormSigin';import{Name}from'./../Header/reducerStateName';var Header=/*#__PURE__*/function(_React$Component){_inherits(Header,_React$Component);var _super=_createSuper(Header);function Header(){var _this;_classCallCheck(this,Header);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={login:''};_this.Exit=function(){_this.setState({login:''});};return _this;}_createClass(Header,[{key:\"componentDidMount\",value:function componentDidMount(){this.props.getUsersThunk();}},{key:\"submitRegistr\",value:function submitRegistr(text){this.props.setUsersThunk(text);// Локальная регистрация\nthis.props.addUsers(text.login,text.pass);text.login='';text.pass='';}},{key:\"submitSigin\",value:function submitSigin(text){var login=this.props.users.map(function(user){return user.login;});var pass=this.props.users.map(function(user){return user.pass;});for(var i=0;i<login.length;i++){if(text.login===login[i]&&text.pass===pass[i]){this.setState({login:text.login});this.props.Name(text.login);}}}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsxs(\"div\",{className:s.header,children:[/*#__PURE__*/_jsxs(\"h1\",{children:[\"Welcom to chat \",this.state.login]}),!this.state.login&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(NavLink,{to:'/reg',className:s.link,children:\"Register\"}),/*#__PURE__*/_jsx(\"span\",{children:\" \"}),/*#__PURE__*/_jsx(NavLink,{to:'/sigin',className:s.link,children:\"Sigin\"}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/reg\",render:function render(){return/*#__PURE__*/_jsx(HeaderFormRedux,{onSubmit:_this2.submitRegistr.bind(_this2)});}}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/sigin\",render:function render(){return/*#__PURE__*/_jsx(HeaderFormReduxSigin,{onSubmit:_this2.submitSigin.bind(_this2)});}})]}),this.state.login&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:this.Exit,children:\"Exit\"})})]});}}]);return Header;}(React.Component);var mapStateToProps=function mapStateToProps(state){return{users:state.reducerHeader.users};};var HeaderContainer=connect(mapStateToProps,{addUsers:addUsers,Name:Name,setUsers:setUsers,getUsersThunk:getUsersThunk,setUsersThunk:setUsersThunk})(Header);export default HeaderContainer;","map":{"version":3,"sources":["/Users/ivannazarov/Documents/reactApp/ServerAndMessage/message/src/components/Header/Header.jsx"],"names":["React","connect","s","HeaderFormRedux","addUsers","setUsers","getUsersThunk","setUsersThunk","NavLink","Route","HeaderFormReduxSigin","Name","Header","state","login","Exit","setState","props","text","pass","users","map","user","i","length","header","link","submitRegistr","bind","submitSigin","Component","mapStateToProps","reducerHeader","HeaderContainer"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport s from './Header.module.css'\nimport HeaderFormRedux from './HeaderForm'\nimport {addUsers, setUsers, getUsersThunk, setUsersThunk} from './reducerHeader'\nimport {NavLink, Route} from 'react-router-dom'\nimport HeaderFormReduxSigin from './HeaderFormSigin'\nimport {Name} from './../Header/reducerStateName'\n\n\n\n\n\n\nclass Header extends React.Component{\n\n    state = {\n        login: ''\n    }\n\n    componentDidMount(){\n\n        this.props.getUsersThunk()\n\n        \n    }\n\n    submitRegistr (text) {\n\n        this.props.setUsersThunk(text)\n\n        \n\n        \n        // Локальная регистрация\n        this.props.addUsers(text.login, text.pass)\n\n        text.login=''\n        text.pass=''\n\n    }\n\n    submitSigin (text) {\n        let login = this.props.users.map(user=>user.login)\n        let pass = this.props.users.map(user=>user.pass)\n        for(let i=0;i<login.length;i++){\n            if(text.login===login[i] && text.pass === pass[i]){\n                this.setState({login: text.login})\n                this.props.Name(text.login)\n                \n            }\n        }\n        \n    }\n    Exit =()=>{\n        this.setState({login: ''})\n    }\n\n\n    render(){\n        \n\n        \n    return (\n        <div className={s.header}>\n            <h1>Welcom to chat {this.state.login}</h1>\n            {!this.state.login && \n            <div>\n            <NavLink to={'/reg'} className={s.link}>Register</NavLink>\n            <span> </span>\n            \n            <NavLink to={'/sigin'} className={s.link}>Sigin</NavLink>\n            <Route exact path='/reg' render={()=><HeaderFormRedux onSubmit={this.submitRegistr.bind(this)}/>} />\n            <Route exact path='/sigin' render={()=><HeaderFormReduxSigin onSubmit={this.submitSigin.bind(this)}/>} />\n            </div>\n    }\n    {this.state.login && \n        <div>\n            <button onClick={this.Exit}>Exit</button>\n        </div>\n    }\n        </div>\n    )}\n}\n\n\n\nconst mapStateToProps = (state) =>({\n    users: state.reducerHeader.users\n})\n\nconst HeaderContainer = connect (mapStateToProps, {addUsers, Name, setUsers, getUsersThunk, setUsersThunk}) (Header)\n\n\nexport default HeaderContainer"]},"metadata":{},"sourceType":"module"}
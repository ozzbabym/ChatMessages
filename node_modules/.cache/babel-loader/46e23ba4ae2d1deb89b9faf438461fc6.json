{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/ivannazarov/Documents/reactApp/ServerAndMessage/message/src/components/Header/Header.jsx\";\nimport React from 'react';\nimport { connect } from 'react-redux';\nimport s from './Header.module.css';\nimport HeaderFormRedux from './HeaderForm';\nimport { addUsers, setUsers, getUsersThunk, setUsersThunk } from './reducerHeader';\nimport { NavLink, Route } from 'react-router-dom';\nimport HeaderFormReduxSigin from './HeaderFormSigin';\nimport { Name } from './../Header/reducerStateName';\nimport axios from 'axios';\n\nclass Header extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      login: ''\n    };\n\n    this.Exit = () => {\n      this.setState({\n        login: ''\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.props.getUsersThunk();\n  }\n\n  submitRegistr(text) {\n    this.props.setUsersThunk(text); // Локальная регистрация\n\n    this.props.addUsers(text.login, text.pass);\n    text.login = '';\n    text.pass = '';\n  }\n\n  submitSigin(text) {\n    let login = this.props.users.map(user => user.login);\n    let pass = this.props.users.map(user => user.pass);\n\n    for (let i = 0; i < login.length; i++) {\n      if (text.login === login[i] && text.pass === pass[i]) {\n        this.setState({\n          login: text.login\n        });\n        this.props.Name(text.login);\n      }\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: s.header,\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"Welcom to chat \", this.state.login]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), !this.state.login && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(NavLink, {\n          to: '/reg',\n          className: s.link,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \" \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(NavLink, {\n          to: '/sigin',\n          className: s.link,\n          children: \"Sigin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/reg\",\n          render: () => /*#__PURE__*/_jsxDEV(HeaderFormRedux, {\n            onSubmit: this.submitRegistr.bind(this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 50\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/sigin\",\n          render: () => /*#__PURE__*/_jsxDEV(HeaderFormReduxSigin, {\n            onSubmit: this.submitSigin.bind(this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 52\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 13\n      }, this), this.state.login && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: this.Exit,\n          children: \"Exit\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = state => ({\n  users: state.reducerHeader.users\n});\n\nconst HeaderContainer = connect(mapStateToProps, {\n  addUsers,\n  Name,\n  setUsers,\n  getUsersThunk,\n  setUsersThunk\n})(Header);\nexport default HeaderContainer;","map":{"version":3,"sources":["/Users/ivannazarov/Documents/reactApp/ServerAndMessage/message/src/components/Header/Header.jsx"],"names":["React","connect","s","HeaderFormRedux","addUsers","setUsers","getUsersThunk","setUsersThunk","NavLink","Route","HeaderFormReduxSigin","Name","axios","Header","Component","state","login","Exit","setState","componentDidMount","props","submitRegistr","text","pass","submitSigin","users","map","user","i","length","render","header","link","bind","mapStateToProps","reducerHeader","HeaderContainer"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,OAAOC,CAAP,MAAc,qBAAd;AACA,OAAOC,eAAP,MAA4B,cAA5B;AACA,SAAQC,QAAR,EAAkBC,QAAlB,EAA4BC,aAA5B,EAA2CC,aAA3C,QAA+D,iBAA/D;AACA,SAAQC,OAAR,EAAiBC,KAAjB,QAA6B,kBAA7B;AACA,OAAOC,oBAAP,MAAiC,mBAAjC;AACA,SAAQC,IAAR,QAAmB,8BAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAMA,MAAMC,MAAN,SAAqBb,KAAK,CAACc,SAA3B,CAAoC;AAAA;AAAA;AAAA,SAEhCC,KAFgC,GAExB;AACJC,MAAAA,KAAK,EAAE;AADH,KAFwB;;AAAA,SAwChCC,IAxCgC,GAwC1B,MAAI;AACN,WAAKC,QAAL,CAAc;AAACF,QAAAA,KAAK,EAAE;AAAR,OAAd;AACH,KA1C+B;AAAA;;AAMhCG,EAAAA,iBAAiB,GAAE;AAEf,SAAKC,KAAL,CAAWd,aAAX;AAGH;;AAEDe,EAAAA,aAAa,CAAEC,IAAF,EAAQ;AAEjB,SAAKF,KAAL,CAAWb,aAAX,CAAyBe,IAAzB,EAFiB,CAOjB;;AACA,SAAKF,KAAL,CAAWhB,QAAX,CAAoBkB,IAAI,CAACN,KAAzB,EAAgCM,IAAI,CAACC,IAArC;AAEAD,IAAAA,IAAI,CAACN,KAAL,GAAW,EAAX;AACAM,IAAAA,IAAI,CAACC,IAAL,GAAU,EAAV;AAEH;;AAEDC,EAAAA,WAAW,CAAEF,IAAF,EAAQ;AACf,QAAIN,KAAK,GAAG,KAAKI,KAAL,CAAWK,KAAX,CAAiBC,GAAjB,CAAqBC,IAAI,IAAEA,IAAI,CAACX,KAAhC,CAAZ;AACA,QAAIO,IAAI,GAAG,KAAKH,KAAL,CAAWK,KAAX,CAAiBC,GAAjB,CAAqBC,IAAI,IAAEA,IAAI,CAACJ,IAAhC,CAAX;;AACA,SAAI,IAAIK,CAAC,GAAC,CAAV,EAAYA,CAAC,GAACZ,KAAK,CAACa,MAApB,EAA2BD,CAAC,EAA5B,EAA+B;AAC3B,UAAGN,IAAI,CAACN,KAAL,KAAaA,KAAK,CAACY,CAAD,CAAlB,IAAyBN,IAAI,CAACC,IAAL,KAAcA,IAAI,CAACK,CAAD,CAA9C,EAAkD;AAC9C,aAAKV,QAAL,CAAc;AAACF,UAAAA,KAAK,EAAEM,IAAI,CAACN;AAAb,SAAd;AACA,aAAKI,KAAL,CAAWT,IAAX,CAAgBW,IAAI,CAACN,KAArB;AAEH;AACJ;AAEJ;;AAMDc,EAAAA,MAAM,GAAE;AAIR,wBACI;AAAK,MAAA,SAAS,EAAE5B,CAAC,CAAC6B,MAAlB;AAAA,8BACI;AAAA,sCAAoB,KAAKhB,KAAL,CAAWC,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,EAEK,CAAC,KAAKD,KAAL,CAAWC,KAAZ,iBACD;AAAA,gCACA,QAAC,OAAD;AAAS,UAAA,EAAE,EAAE,MAAb;AAAqB,UAAA,SAAS,EAAEd,CAAC,CAAC8B,IAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA,eAIA,QAAC,OAAD;AAAS,UAAA,EAAE,EAAE,QAAb;AAAuB,UAAA,SAAS,EAAE9B,CAAC,CAAC8B,IAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAJA,eAKA,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,MAAlB;AAAyB,UAAA,MAAM,EAAE,mBAAI,QAAC,eAAD;AAAiB,YAAA,QAAQ,EAAE,KAAKX,aAAL,CAAmBY,IAAnB,CAAwB,IAAxB;AAA3B;AAAA;AAAA;AAAA;AAAA;AAArC;AAAA;AAAA;AAAA;AAAA,gBALA,eAMA,QAAC,KAAD;AAAO,UAAA,KAAK,MAAZ;AAAa,UAAA,IAAI,EAAC,QAAlB;AAA2B,UAAA,MAAM,EAAE,mBAAI,QAAC,oBAAD;AAAsB,YAAA,QAAQ,EAAE,KAAKT,WAAL,CAAiBS,IAAjB,CAAsB,IAAtB;AAAhC;AAAA;AAAA;AAAA;AAAA;AAAvC;AAAA;AAAA;AAAA;AAAA,gBANA;AAAA;AAAA;AAAA;AAAA;AAAA,cAHJ,EAYH,KAAKlB,KAAL,CAAWC,KAAX,iBACG;AAAA,+BACI;AAAQ,UAAA,OAAO,EAAE,KAAKC,IAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAbA;AAAA;AAAA;AAAA;AAAA;AAAA,YADJ;AAmBE;;AApE8B;;AAyEpC,MAAMiB,eAAe,GAAInB,KAAD,KAAW;AAC/BU,EAAAA,KAAK,EAAEV,KAAK,CAACoB,aAAN,CAAoBV;AADI,CAAX,CAAxB;;AAIA,MAAMW,eAAe,GAAGnC,OAAO,CAAEiC,eAAF,EAAmB;AAAC9B,EAAAA,QAAD;AAAWO,EAAAA,IAAX;AAAiBN,EAAAA,QAAjB;AAA2BC,EAAAA,aAA3B;AAA0CC,EAAAA;AAA1C,CAAnB,CAAP,CAAqFM,MAArF,CAAxB;AAGA,eAAeuB,eAAf","sourcesContent":["import React from 'react'\nimport { connect } from 'react-redux'\nimport s from './Header.module.css'\nimport HeaderFormRedux from './HeaderForm'\nimport {addUsers, setUsers, getUsersThunk, setUsersThunk} from './reducerHeader'\nimport {NavLink, Route} from 'react-router-dom'\nimport HeaderFormReduxSigin from './HeaderFormSigin'\nimport {Name} from './../Header/reducerStateName'\nimport axios from 'axios'\n\n\n\n\n\nclass Header extends React.Component{\n\n    state = {\n        login: ''\n    }\n\n    componentDidMount(){\n\n        this.props.getUsersThunk()\n\n        \n    }\n\n    submitRegistr (text) {\n\n        this.props.setUsersThunk(text)\n\n        \n\n        \n        // Локальная регистрация\n        this.props.addUsers(text.login, text.pass)\n\n        text.login=''\n        text.pass=''\n\n    }\n\n    submitSigin (text) {\n        let login = this.props.users.map(user=>user.login)\n        let pass = this.props.users.map(user=>user.pass)\n        for(let i=0;i<login.length;i++){\n            if(text.login===login[i] && text.pass === pass[i]){\n                this.setState({login: text.login})\n                this.props.Name(text.login)\n                \n            }\n        }\n        \n    }\n    Exit =()=>{\n        this.setState({login: ''})\n    }\n\n\n    render(){\n        \n\n        \n    return (\n        <div className={s.header}>\n            <h1>Welcom to chat {this.state.login}</h1>\n            {!this.state.login && \n            <div>\n            <NavLink to={'/reg'} className={s.link}>Register</NavLink>\n            <span> </span>\n            \n            <NavLink to={'/sigin'} className={s.link}>Sigin</NavLink>\n            <Route exact path='/reg' render={()=><HeaderFormRedux onSubmit={this.submitRegistr.bind(this)}/>} />\n            <Route exact path='/sigin' render={()=><HeaderFormReduxSigin onSubmit={this.submitSigin.bind(this)}/>} />\n            </div>\n    }\n    {this.state.login && \n        <div>\n            <button onClick={this.Exit}>Exit</button>\n        </div>\n    }\n        </div>\n    )}\n}\n\n\n\nconst mapStateToProps = (state) =>({\n    users: state.reducerHeader.users\n})\n\nconst HeaderContainer = connect (mapStateToProps, {addUsers, Name, setUsers, getUsersThunk, setUsersThunk}) (Header)\n\n\nexport default HeaderContainer"]},"metadata":{},"sourceType":"module"}